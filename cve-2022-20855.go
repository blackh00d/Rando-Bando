package main

import (
    "fmt"
    "os"
    "syscall"
)

func main() {
    // Open the file with read-only permissions
    fd, err := os.Open("/etc/passwd")
    if err != nil {
        fmt.Fprintf(os.Stderr, "open: %v\n", err)
        os.Exit(1)
    }
    defer fd.Close()

    // Change the file mode
    if err := syscall.Fchmod(int(fd.Fd()), syscall.S_ISUID|syscall.S_IRUSR|syscall.S_IWUSR|syscall.S_IRGRP|syscall.S_IROTH); err != nil {
        fmt.Fprintf(os.Stderr, "fchmod: %v\n", err)
        os.Exit(1)
    }

    fmt.Println("Done")
}
